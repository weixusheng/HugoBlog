<!doctype html>
<html lang="zh-CN">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    

    <title>数据库原理及应用 PART-4 | 小辣鸡的Hugo</title>
    <meta property="og:title" content="数据库原理及应用 PART-4 - 小辣鸡的Hugo">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-04-21T23:11:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-04-21T23:11:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="数据库原理及应用 PART-4">
        <meta name="author" content="小辣鸡">
        
    <meta property="og:url" content="/post/db-4/">
    <link rel="shortcut icon" href='/favicon.ico'  type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>

<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="">
                        小辣鸡的Hugo
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="current" href="">首页</a>
                    
                    <a  href="/archives/" title="归档">归档</a>
                    
                    <a  href="/tag/" title="分类">分类</a>
                    
                    <a  href="/about/" title="关于">关于</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">数据库原理及应用 PART-4</h1>
        </header>
        <date class="post-meta meta-date">
            2020年4月21日
        </date>
        
        
        
        <div class="post-content">
            <p>ER图</p>
<h1 id="er图">ER图</h1>
<h2 id="定义">定义</h2>
<p>E-R图也称实体-联系图(Entity Relationship Diagram)，提供了表示实体类型、属性和联系的方法，用来描述现实世界的概念模型。</p>
<h2 id="常用表示符号">常用表示符号</h2>
<p>
        <img class="mx-auto" alt="常用符号1-w50" src="https://tronwei-1254020584.cos.ap-beijing.myqcloud.com/DB-4/1.png" />   
    

        <img class="mx-auto" alt="常用符号2-w50" src="https://tronwei-1254020584.cos.ap-beijing.myqcloud.com/DB-4/2.png" />   
    

        <img class="mx-auto" alt="常用符号3" src="https://tronwei-1254020584.cos.ap-beijing.myqcloud.com/DB-4/3.png" />   
    

        <img class="mx-auto" alt="常用符号4" src="https://tronwei-1254020584.cos.ap-beijing.myqcloud.com/DB-4/4.png" />   
    </p>
<ul>
<li>矩形代表实体集</li>
<li>菱形代表联系集</li>
<li>线段将实体集连接到联系集</li>
<li>构成主码的属性用下划线标明</li>
<li>虚线将联系集属性连接到联系集

        <img class="mx-auto" alt="虚线表示" src="https://tronwei-1254020584.cos.ap-beijing.myqcloud.com/DB-4/5.png" />   
    </li>
<li>双线显示实体在联系集中的参与度</li>
<li>双菱形代表连接到弱实体集的标志性联系集</li>
</ul>
<h1 id="er图中的关系表示">ER图中的关系表示</h1>
<h2 id="角色">角色</h2>
<p>实体在联系集中的作用
下图给出了 course 实体集和 preq 联系集之间的角色标识 course_id 和prereq_id</p>
<p>
        <img class="mx-auto" alt="角色" src="https://tronwei-1254020584.cos.ap-beijing.myqcloud.com/DB-4/6.png" />   
    </p>
<p>(角色标记是可选的,用于明确联系的语义)</p>
<h2 id="基数约束">基数约束</h2>
<p>在联系集与实体集之间用有向直线(-&gt;)表示&rsquo;一&rsquo;,无向直线(—)表示&rsquo;多'</p>
<h3 id="一对一联系">一对一联系</h3>
<ul>
<li>实体集instructor和student之间的联系集可以是一对一,表示一名教师可以指导至多一名学生,并且一名学生可以有至多一位导师

        <img class="mx-auto" alt="一对一" src="https://tronwei-1254020584.cos.ap-beijing.myqcloud.com/DB-4/7.png" />   
    </li>
</ul>
<h3 id="一对多联系">一对多联系</h3>
<p>实体集instructor和student之间的联系集可以是一对多,表示一名教师可以指导多名学生,但一名学生可以有至多一位导师

        <img class="mx-auto" alt="一对多" src="https://tronwei-1254020584.cos.ap-beijing.myqcloud.com/DB-4/8.png" />   
    </p>
<h3 id="多对多联系">多对多联系</h3>
<p>实体集instructor和student之间的联系集可以是多对多,表示一名教师可以指导多名学生,并且一名学生可以有多位导师

        <img class="mx-auto" alt="多对多" src="https://tronwei-1254020584.cos.ap-beijing.myqcloud.com/DB-4/9.png" />   
    </p>
<h2 id="参与约束">参与约束</h2>
<h3 id="全参与和部分参与约束">全参与和部分参与约束</h3>
<p>反映了一个实体参与关联的数目下限:0次,还是至少1次</p>
<ul>
<li>全参与(用双线表示):实体集中的每个实体都至少参加联系集中的一个联系</li>
<li>部分参与:某些实体可能未参加联系集中的任何联系</li>
</ul>
<p>
        <img class="mx-auto" alt="01参与" src="https://tronwei-1254020584.cos.ap-beijing.myqcloud.com/DB-4/10.png" />   
    </p>
<h3 id="映射基数约束">映射基数约束</h3>
<p>限定了一个实体与发生关联的另一端实体可能关联的数目上限</p>
<ul>
<li>例每个学生有且仅有一个导师,教师可以有零个或多个学生

        <img class="mx-auto" alt="映射基数" src="https://tronwei-1254020584.cos.ap-beijing.myqcloud.com/DB-4/11.png" />   
    </li>
</ul>
<h2 id="具有三元联系的e-r图">具有三元联系的E-R图</h2>
<p>例如一个教师可以指导多个学生,并可以参与到多个项目

        <img class="mx-auto" alt="三元联系" src="https://tronwei-1254020584.cos.ap-beijing.myqcloud.com/DB-4/12.png" />   
    
但是三元关系显得很复杂,这就需要转为二元关系

        <img class="mx-auto" alt="转换二元联系" src="https://tronwei-1254020584.cos.ap-beijing.myqcloud.com/DB-4/13.png" />   
    </p>
<h2 id="弱实体集">弱实体集</h2>
<ul>
<li>不具有主键的实体集称为弱实体集</li>
<li>例如考虑一个 section 实体,它由课程编号、学期、学年以及开课编号唯
一标识。显然,开课实体和课程实体相关联。假定我们在实体集 section
和 course 之间创建了一个联系集 sec_course。 若,实体集section为:
section ( sec_id,semester,year ),则其为弱实体集(父子关系)</li>
</ul>
<p>
        <img class="mx-auto" alt="弱实体集" src="https://tronwei-1254020584.cos.ap-beijing.myqcloud.com/DB-4/14.png" />   
    </p>
<ul>
<li>弱实体集的存在依赖于它的标识实体集(或属主实体集)的存在</li>
<li>标识性联系:将弱实体集与其标识实体集相联的联系
标识性联系是从弱实体集到标识实体集多对一的,并且弱实体集在联系中的
参与是全部的</li>
<li>弱实体集的分辨符(或称部分码)是指在一个弱实体集内区分所有实体
的属性集合</li>
<li>例,弱实体集 section 的分辨符由属性 sec_id,year 以及 semester 组成</li>
<li>弱实体集的主码由它所依赖的强实体集的主码加上它的<strong>分辨符</strong>组成
section的主码:

        <img class="mx-auto" alt="弱实体集" src="https://tronwei-1254020584.cos.ap-beijing.myqcloud.com/DB-4/15.png" />   
    </li>
<li>注意:强实体集的主码并不显式地存于弱实体集中,而是隐含地通过标识性联系起作用</li>
<li>如果 course_id 显式存在, section 就成了强实体,则 section与course 之间的联系变得冗余。因为 section 与 course 共有的属性course_id 已定义了一个隐含的联系</li>
</ul>
<h2 id="特化">特化</h2>
<ul>
<li>自顶向下设计过程中,确定实体集中的一个具有特殊性质的子集</li>
<li>这些子集称为低层实体集,它们具有特殊的属性或者参加特殊的联系</li>
<li><strong>属性继承</strong> :低层实体集继承它连接的高层实体集的所有属性及参加的联系

        <img class="mx-auto" alt="特化继承" src="https://tronwei-1254020584.cos.ap-beijing.myqcloud.com/DB-4/16.png" />   
    </li>
</ul>
<h2 id="概化">概化</h2>
<ul>
<li>
<p>自底向上设计过程中,将若干共享相同特性的实体集组合成一个高层实体集</p>
</li>
<li>
<p>特化与泛化简单互逆:它们在E-R图中以相同方式表示</p>
</li>
<li>
<p>关于实体在单个概化中是否可以属于多于一个低层实体集的约束</p>
<ul>
<li>不相交
<ul>
<li>一个实体只能属于一个低层实体集</li>
<li>在E-R图中ISA三角形旁边加注disjoint</li>
</ul>
</li>
</ul>
<p>
        <img class="mx-auto" alt="不相交" src="https://tronwei-1254020584.cos.ap-beijing.myqcloud.com/DB-4/17.png" />   
    </p>
<ul>
<li>重叠
<ul>
<li>一个实体可以属于多个低层实体集</li>
</ul>
</li>
<li>完备性约束
<ul>
<li>说明高层实体集中的实体是否必须至少属于一个低层实体集</li>
<li>全部概化或特化:每个高层实体必须属于一个低层实体集(双线)

        <img class="mx-auto" alt="完备性约束" src="https://tronwei-1254020584.cos.ap-beijing.myqcloud.com/DB-4/18.png" />   
    </li>
<li>部分概化或特化:允许一些高层实体不属于任何低层实体集(默认的)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="聚集">聚集</h2>
<p>通过聚集消除冗余</p>
<ul>
<li>将联系视为一个抽象实体</li>
<li>从而允许联系之间的联系</li>
<li>联系抽象为新实体</li>
</ul>
<p>
        <img class="mx-auto" alt="聚集" src="https://tronwei-1254020584.cos.ap-beijing.myqcloud.com/DB-4/19.png" />   
    </p>
<h1 id="构建er图">构建ER图</h1>
<h2 id="例题1">例题1</h2>
<p>  学生学习某门课程。每个学生都有学号,姓名,年龄和性别属性。每门课程都有课程编号,课程名,学分和上课教室编号属性。每个学生可以是本科生或研究生。对于每一个本科生,我们想记录他/她的学习年份,平均绩点,以及(可能是多个)电子邮箱。对于每一个研究生,我们要记录他/她的导师的名字,以及(可能是多个)电子邮箱。此外,每门课程有一名研究生作为课程助教,我们要记录助教的开始和结束时间(例如,开始于2015年3月10日,结束于2015年6月30日)。绘制E-R图。</p>
<p>
        <img class="mx-auto" alt="例题1" src="https://tronwei-1254020584.cos.ap-beijing.myqcloud.com/DB-4/20.png" />   
    </p>
<h2 id="例题2">例题2</h2>
<p>  一个公司的数据库需要存储有关雇员(由empid唯一标识,有姓名、工资和手机号码作为属性),部门(由dno唯一标识,有部门名称与预算作为属性)和雇员的孩子信息(有姓名和年龄属性)。员工在部门工作,每个部门由一个管理员管理,孩子必须被唯一名称标识,其父母(假定只有父母中的一位在公司工作)是已知的。一旦父母离开公司,我们将不再关注孩子的信息。绘制ER图,然后将其转换为关系模式。</p>
<p>
        <img class="mx-auto" alt="例题2" src="https://tronwei-1254020584.cos.ap-beijing.myqcloud.com/DB-4/21.png" />   
    </p>
<p><strong>数据库就剩最后一章了!</strong></p>
        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/post/db-3/">数据库原理及应用 PART-3</a></li>
        
        <li><a href="/post/db-2/">数据库原理及应用 PART-2</a></li>
        
        <li><a href="/post/db-1/">数据库原理及应用 PART-1</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='/tags/%E6%95%B0%E6%8D%AE%E5%BA%93'>数据库</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2022 <a href="">小辣鸡的Hugo By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>






                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='//www.google.com/search' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="/post/hugo/" title="搭建Hugo">搭建Hugo</a>
    </li>
    
    <li>
        <a href="/post/curl%E5%B8%B8%E7%94%A8/" title="curl常用命令">curl常用命令</a>
    </li>
    
    <li>
        <a href="/post/docker-9/" title="crond">crond</a>
    </li>
    
    <li>
        <a href="/post/docker-8/" title="构建前后端服务组">构建前后端服务组</a>
    </li>
    
    <li>
        <a href="/post/centos%E5%AE%89%E8%A3%85conda/" title="centos安装conda">centos安装conda</a>
    </li>
    
    <li>
        <a href="/post/jenkins/" title="Jenkins入门">Jenkins入门</a>
    </li>
    
    <li>
        <a href="/post/sqlalchemy%E7%9A%84session%E6%9C%BA%E5%88%B6/" title="SQLAlchemy断连">SQLAlchemy断连</a>
    </li>
    
    <li>
        <a href="/post/apschedule/" title="APScheduler的使用">APScheduler的使用</a>
    </li>
    
    <li>
        <a href="/post/yield/" title="yield的用法">yield的用法</a>
    </li>
    
    <li>
        <a href="/post/vue-ts/" title="Vue-TS入门">Vue-TS入门</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href='/categories/'>分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href='/tags/'>标签</a></h3>
<div class="tagcloud">
    
    <a href="/tags/c&#43;&#43;/">C&#43;&#43;</a>
    
    <a href="/tags/centos/">Centos</a>
    
    <a href="/tags/c%E8%AF%AD%E8%A8%80/">C语言</a>
    
    <a href="/tags/docker/">Docker</a>
    
    <a href="/tags/dtec/">DTEC</a>
    
    <a href="/tags/fastapi/">FastAPI</a>
    
    <a href="/tags/git/">Git</a>
    
    <a href="/tags/hexo/">HEXO</a>
    
    <a href="/tags/hugo/">Hugo</a>
    
    <a href="/tags/java/">Java</a>
    
    <a href="/tags/javascript/">Javascript</a>
    
    <a href="/tags/jenkins/">Jenkins</a>
    
    <a href="/tags/leetcode/">Leetcode</a>
    
    <a href="/tags/matplotlib/">Matplotlib</a>
    
    <a href="/tags/ncepu/">NCEPU</a>
    
    <a href="/tags/node.js/">Node.js</a>
    
    <a href="/tags/nodejs/">nodejs</a>
    
    <a href="/tags/pat/">PAT</a>
    
    <a href="/tags/python/">Python</a>
    
    <a href="/tags/qt-python/">Qt-Python</a>
    
    <a href="/tags/shell/">Shell</a>
    
    <a href="/tags/shortcut/">ShortCut</a>
    
    <a href="/tags/sqlalchemy/">SQLAlchemy</a>
    
    <a href="/tags/ubuntu/">Ubuntu</a>
    
    <a href="/tags/vscode/">vscode</a>
    
    <a href="/tags/vue/">Vue</a>
    
    <a href="/tags/win/">win</a>
    
    <a href="/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%AF%BC%E8%AE%BA/">人工智能导论</a>
    
    <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a>
    
    <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
    
    <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">数据结构与算法</a>
    
    <a href="/tags/%E6%9C%AC%E7%A7%91%E8%AE%BA%E6%96%87/">本科论文</a>
    
    <a href="/tags/%E7%89%A9%E8%81%94%E7%BD%91/">物联网</a>
    
    <a href="/tags/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">神经网络与深度学习</a>
    
    <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/">计算机组成原理</a>
    
    <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>