# NCEPU 操作系统简答题



操作系统
<!--more-->

## 进程和线程的主要区别是什么,引入线程的好处
在有进程和线程的系统中,进程是系统分配资源的独立单位,而线程是可调度的独立的单位,线程是进程的一个组成部分
1. 以线程作为系统调度的基本单位,减少了系统的时空开销
2. 引入线程提高了系统的并行能力
3. 同一进程的线程,分享进程的用户地址空间,所以同一进程的线程间的通信更容易实现

## 什么是原语,原语的主要特点是什么
原语是指由若干条机器指令构成,并用以完成特定功能的一段程序,这段程序在执行期间是不可分割的,主要特点是运行期间不可分割

## 同步机制应该遵循什么准则
空闲让进,忙则等待,让权等待,有限等待

## 三级调度
高级调度(作业调度) 中级调度 低级调度(进程调度)

## 死锁是什么,产生死锁的原因和必要条件是什么
死锁是指多个进程因竞争资源而造成一种僵持状态,若无外力作用,这些进程就会永远处于阻塞状态,无法运作下去
产生死锁的原因: 资源不足,进程推进次序不当
产生死锁的必要条件: 互斥条件,请求保持条件,不剥夺条件,环路等待保持

## 覆盖技术和虚拟存储的区别是什么
交换技术主要在不同进程(或作业)中进行,而覆盖技术则用于同一进程或者进程中

## I/O控制方式有几种
程序I/O方式, 终端控制I/O方式, DMA控制方式 通道方式

## 说明进程和程序的区别
每个进程实体中包括程序段和数据段以及PCB三部分
进程是程序的一次执行过程,由创建而产生,由调度而执行,由撤销而消亡,因此是动态的,而程序只是一组指令的集合,是静态的
多个进程可以在内存中并发运行,而程序没有并发性
进程是一个可以独立运行,独立分配资源的,和独立接受调度的基本单位,程序中没有PCB,因此不可能在多道程序环境独立运行
程序和进程不一一对应,一个程序可以多次运行,形成多个进程,同一个程序的一次执行也可以产生多个进程,而一个进程在执行过程也可以执行多个程序

## 操作系统的定义
操作系统是计算机系统的一种系统软件,统一管理计算机系统的资源和控制程序的执行

## 简述预防死锁的三种方法
死锁的预防,死锁的避免,死锁的检测

## 死锁和饥饿的区别
相同点: 两者都是由于竞争资源引起的,与资源的分配策略有关
不同点: 
1. 从进程状态考虑,死锁进程都处于等待状态,但是饿死进程属于忙等状态
2. 死锁进程等待永远不会释放的资源,饿死进程等待会被释放但是不会分配给自己的资源
3. 死锁一定会发生循环等待,但是饿死进程则不会,根据资源分配图可以检测死锁,但不能检测饿死
4. 死锁一定涉及多个进程,但是饥饿或饿死可能只有一个

## 什么是设备独立性
应用程序独立于具体使用的物理设备

## 什么是颠簸,以及产生的原因
在虚拟内存中,页面在内存和外存中循环调试,系统效率急剧下降,称为颠簸,颠簸是由于缺页率高引起的

## 虚拟存储技术的理论基础(局部性原理)是什么
时间局部性: 是指若一条指令被执行,则在不久之后可能被再次执行
空间局部性: 一旦一个存储单元被访问,那么其附近的单元也很快被访问

## 操作系统的概念
1. 管理协调硬件软件等计算机资源
2. 为上层用户,应用程序提供简单易用的服务
3. 一种系统软件

## 操作系统的特征
1. 并发
2. 共享
3. 异步
4. 虚拟

其中并发和共享是最基本的特征

## 并发并行
并发: 指两个或多个事件在同一时间间隔内发生,宏观上同时发生,微观上交替发生
并行: 指两个或多个事件同一时刻同时发生

## 并发共享之间的联系
两者互为存在的条件

## 操作系统的功能
1. 作为计算机系统资源的管理者
2. 作为用户与计算机硬件系统之间的接口
3. 用作扩充机器

## 操作系统发展阶段
1. 手工操作阶段
2. 单道批处理阶段
3. 多道批处理阶段
4. 分时操作系统
5. 实时操作系统
6. 网络操作系统,分布式计算机系统
7. 个人计算机操作系统

## 多道批处理的特点 优缺点
优点: 多道程序并发执行,共享计算机资源,资源利用率大幅提升,系统吞吐量增大
缺点: 没有人机交互,提交作业后只能等嗲计算机处理,无法对中间过程干预

## 分时系统和实时系统
分时: 计算机以时间片为单位轮流为每一个用户(作业)服务,各个用户能通过终端与计算机交互
实时: 计算机系统受到外部信号后及时处理,并且在严格的时限内处理完事件,具有及时性和可靠性


## 特权指令
特权指令是指有特殊权限的指令,由于这类指令的权限最大,使用不当将导致整个系统崩溃

## 中断和异常的概念和区别
中断: 也称为外中断,指来自CPU执行指令之外的事件的发生,如设备发出的I/O结束中断,时钟中断
异常: 内中断,源自于CPU执行指令内部的事件,例如程序的非法操作码,地址越界,算术溢出,虚存系统的缺页等
区别: 广义的中断包括中断和异常,狭义的中断和异常的区别在于,是否和正在执行的指令相关,中断是可以被屏蔽的,异常不能被屏蔽,一旦出现应立即处理

## 访管指令和访管中断
访管指令是一条可以在用户态执行的指令
产生一个中断事件,将操作系统转换为核心态,称为访管中断,访管中断由访管指令产生,程序员使用访管指令向操作系统请求服务

## 进程的概念
进程是进程实体的运行过程,是系统进行资源分配和调度的基本单位

## 进程的组成部分
PCB, 程序段, 数据段

## 进程的特征
动态性 并发性 独立性 异步性 结构性

## 进程状态的切换
就绪态->运行态 进程被调度
运行态->就绪态 时间片用完 处理机被占用
运行态->阻塞态 等待系统资源分配 等待某事件发生
阻塞态->就绪态 资源分配到位 等待的事件发生

## 进程创建的事件
用户登录 作业调度 提供服务 应用请求

## PCB的概念和作用
概念: 保存进程运行期间的相关数据,是进程存在的唯一标识
作用: 利用PCB来描述进程的基本状况和运行态,从而控制和管理进程

## 进程通信的方式
共享存储 消息传递 管道通信

## 处理机调度的三个层次
高级调度(作业调度)
中级调度(内存调度)
低级调度(进程调度)

## 处理机调度的基本准则
CPU利用率
系统吞吐量
周转时间
等待时间
响应时间

## 什么是饥饿现象 死锁现象
饥饿: 等待时间已经影响到进程运行,此时称为饥饿现象,如果等待时间过长,导致进程使命已经没有意义的时候,称为"饿死"
死锁现象: 两个或多个进程相互竞争系统资源,导致进程永久阻塞

## 什么是临界资源 临界区
临界资源: 一次仅允许一个进程使用的资源称为临界资源
临界区: 在每个进程中,访问临界资源的那段代码称为临界区

## 临界资源访问的四个过程
进入区
临界区
退出区
剩余区

## 同步机制应遵循的准则
空闲让进
忙则等待
有限等待
让权等待

## 死锁产生的原因
系统资源的竞争
进程推进顺序非法

## 死锁产生的四个必要条件
互斥条件 不剥夺条件 请求保持条件 循环等待

## 死锁的处理策略
死锁预防 死锁避免 死锁检测和解除

## 死锁预防的策略
破坏互斥条件
破坏不剥夺条件
破坏循环等待条件
破坏请求保持条件

## 系统不安全状态和死锁的关系
并非所有的不安全状态都是死锁状态,但系统进入不安全状态后,便可能进入死锁状态,只要系统处去安全状态,就不会进入死锁状态

## 安全状态的概念
系统能按照某种进程推进顺序,为每个进程分配其所需要的资源,直至满足每个进程的需求,使每个进程都能顺序完成

## 银行家算法的基本思想
将操作系统视为银行家,操作系统管理的资源相当于银行家的资金,进程向操作系统请求分配资源相当于用户向银行家贷款

## 什么是死锁定理
通过简化资源分配图,可检测系统状态是否为死锁状态

## 进程同步互斥的关系
进程同步: 直接制约关系,为了完成某个任务而建立的两个或多个进程,因为需要而协调他们的工作次序而等待,传递信息所产生的制约关系
进程互斥: 间接制约关系,当一个进程进入临界区,另一个进程必须等待,当占用临界资源的进程退出临界区后,另一个进程才允许去访问临界资源

## 程序变为进程的步骤
为进程申请唯一的进程标识号,并申请一个空白PCB
为进程分配资源
初始化PCB
进程进入就绪队列,等待被调度运行

编译->链接->装入

## 链接的三个方式
静态链接
装入时动态链接
运行时动态链接

## 装入的三个方式
绝对装入
可重定位装入
动态运行时装入

## 逻辑地址和绝对地址
逻辑地址: 编译后每个目标模块都从0号单元开始编址,这成为该目标模块的逻辑地址
物理地址: 内存中物理单元的集合,是地址转换的最终地址,进程在运行时执行指令和访问数据,都要通过物理地址从主存中提取 

## 地址重定位
当装入程序将可执行程序装入内存时,必须通过地址转换将逻辑地址转换为物理地址,这个过程称为地址重定位

## 什么是覆盖技术 交换技术 两者之间的区别
覆盖技术和交换技术是多道程序环境下用来扩充内存的方法
覆盖技术: 在程序运行过程中并非需要任何时候都要访问程序及数据的各个部分,因此可将用户空间分为一个固定区和若干个覆盖区,将活跃部分放入固定区,将即将访问的段放入覆盖区,其他段放在外存,在需要调用前,系统将其调入覆盖区,替换覆盖区原有的段
交换技术: 将等待状态的程序从内存移入辅存,换出,将内存空间腾出,将准备好运行的程序从辅存移入内存,换入
交换技术通常用于不同的进程(作业)之间,覆盖技术通常用于同一个程序或进程中

## 连续分配管理方式
单一连续分配
固定分区分配
动态分区分配

## 非连续分配
基本分页存储管理方式
基本分段存储管理方式
段页式存储管理方式

## 内存碎片 外部碎片 外部碎片如何消除
内部碎片: 当程序小于固定分区大小时,也占用一个完整的内存分区空间,这样内存空间内部就存在内存浪费,这种现象称为内部碎片
外部碎片: 在动态分配中,会导致内存中产生很多小的内存块,并且无法使用,这些小的内存块成为外部碎片
外部碎片可通过紧凑技术来解决,即操作系统对进程进行移动和整理,进行磁盘整理

## 内存分配算法
首次适应: 将空闲分区按照地址递增次序链接,分配内存时顺序查找,找到大小满足要求的第一个空闲分区
最佳适应: 将空闲分区按照容量大小递增次序链接,分配内存时顺序查找,找到第一个能满足要求的空闲分区
最坏适应: 将空闲分区按照容量大小递减次序链接,找到第一个能满足要求的空闲分区
邻近适应(循环首次适应): 由首次适应演变而来,分配内存从上次查找结束的位置开始继续查找

## 为什么页式管理是一维的,分段是二维的
页式管理中,只需要提供一个整数就能确定对应物理地址,因为页面大小L是固定的,因此页式管理中地址是一维的
分段管理中,由于每段长度不同,因此无法同各国整数除法得到短号,无法通过求余得到段内偏移,所以段号和段内偏移需要显式给出,因此分段管理是二维的

## 页面为什么过大或者过小
页面过小会使进程的页面数增多,导致页表过长,占用大量内存,也会增加硬件地址转换的开销,降低页面换入换出效率,页面过大会使页内碎片增多,降低内存利用率

## 什么是可重入代码
程序中不能修改的代码称为可重入代码,这种代码可以进行共享

## 多级页表解决了什么问题,带来了什么问题
多级页表解决了当逻辑地址空间过大时,页表长度会大大增加的问题
采用多级页表后,一次访盘需要多次访问内存甚至磁盘,大大增加了一次访存事件

## 局部性原理
时间局部性原理: 程序中的某条指令一旦执行,不久后该指令可能再次执行
空间局部性: 一旦程序访问了某个存储单元,不久后其附近的存储单元也会被访问

## 虚拟内存技术实现的三种技术
请求分页存储管理
请求分段存储管理
请求段页式存储管理

一定的内存和外村
页表(段表)机制
中断机构
地址变换机构

## Belady异常 出现在哪里
分配的物理块增多,但是页故障不减反增的异常现象
只有FIFO可能会出现Belady异常

## 什么是驻留集
给一个进程分配的物理页框的集合就是该进程的驻留集

## 驻留集分配的三种策略
固定分配局部置换
可变分配全局置换
可变分配局部置换

## 什么是"抖动"现象
刚换出的页面又要马上换入主存,刚换入的页面又要马上换出主存,这种频繁的页面调度行为称为"抖动"

## 什么是文件 什么是文件系统
文件是以计算机硬盘为载体的存储在计算机上的信息集合,文件可以是文本文档,图片,程序等
在用户输入输出时,以文件为基本单位
文件系统是为了实现用户对于文件的访问,修改,保存等维护管理

## 文件的逻辑结构都有哪些
无结构文件(流式文件)
有结构文件(记录式文件)

## 记录式文件分为哪几种
1. 顺序文件
2. 索引文件
3. 索引顺序文件
4. 散列文件

## 什么是FCB
文件控制块是用来存放控制文件需要的各种信息的数据结构,以实现"按名存取"
FCB的有序集合称为文件目录,一个FCB是一个文件目录项,为了创建一个新文件,系统将分配一个FCB并存放在文件目录中,成为目录项
基本信息 存取控制信息 使用信息

## 单级目录机构存在什么问题 两级目录存在什么问题,解决了什么问题
单级目录实现了"按名存取"但是存在查找速度慢,文件不允许重名,不便于文件共享等缺点,不适合多用户操作系统
二级目录解决了不同用户文件的"重名"问题,又在一定程度上保证了文件的安全
但二级目录结构缺乏灵活性,不能对文件分类

## 什么是相对路径 绝对路径
从根目录出发的路径称为绝对路径
从当前目录出发的路径称为相对路径

## 文件共享的两种方式
基于索引节点的共享方式(硬链接)
利用符号链实现文件文件共享(软链接)

## 文件保护的手段
口令保护 加密保护 访问控制

## 文件系统的层次结构
0级: 用户调用接口
1级: 文件目录系统
2级: 存取控制验证
3级: 逻辑文件系统与文件信息缓冲区
4级: 物理文件系统
5级: 辅助分配模块 设备管理程序模块

## 文件的物理结构(文件的分配方式)都有哪几种
连续分配 链接分配 索引分配

## 文件存储空间管理方式 对空闲块的管理方式
空闲表法 空闲链表法 位示图法 成组链接法

## 什么是磁盘的柱面
具有相同编号的磁道形成一个圆柱，称之为磁盘的柱面

## 磁盘读写操作时间由哪几个部分组成 哪部分的时间最长
寻找时间 旋转延迟时间 传输时间
其中寻找(寻道)时间最长,因此要用算法去优化

## I/O的控制方式有什么
程序直接控制 中断驱动方式 DMA方式 通道方式

## I/O子系统的层次结构
用户层I/O软件
设备独立性软件
设备驱动程序
中断处理程序
硬件

## 缓冲池的三个队列是什么
空缓冲队列 输入队列 输出队列

## 什么是SPOOLING技术 特点是什么
SPOOLING技术是低速输入输出设备与主机交换的一种技术"假脱机真联机",以联机的方式得到脱机的效果
1. 提高了I/O的速度
2. 将独占设备改造为共享设备

## 设备分配的数据结构
设备控制表(DCT)
控制器控制表(COCT)
通道控制表(CHCT)
系统设备表(SDT)

## 什么是设备的独立性
用户在编写程序时使用的设备与实际设备无关

## SPOOLING系统的组成部分
输入井 输出井
输入缓冲区 输出缓冲区
输入进程 输出进程(模拟外围控制机)

## DMA与中断控制的区别
在中断驱动方式中,I/O设备与内存之间的数据交换.必须要经过CPU中的寄存器,所以速度还是受限
而DMA方式的基本思想是在I/O设备和内存之间开辟直接的交换通路

## DMA与通道方式的区别
通道方式是DMA的发展,进一步减少CPU的干预,即把对一个数据块的为单位的干预,减少为对一组数据块的干预
同时实现CPU,通道,I/O设备三者的并行操作

## 磁盘冗余阵列有哪几个分级 各自的特点是什么
一共7级

## 磁盘冗余阵列(RAID)的优点
1. 可靠性高: 除了0级以外,其余各级都采用了容错技术
2. I/O速度高: 采取了并行交叉存取方式
3. 性价比高 


